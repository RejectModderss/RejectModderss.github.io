import{_ as r,t as o,v as c,x as e,K as _,y as i,z as f}from"./u37x-f95.js";const y=window.setInterval,h={data(){return{finished:!1,lanyard:{},socket:null}},computed:{getDiscordStatusDetails(){if(!this.lanyard)return{};switch(this.lanyard.discord_status){case"online":return"Online in Discord";case"idle":return"Online in Discord";case"dnd":return"Online in Discord";case"offline":return"Offline in Discord";default:return"Loading"}},getSpotifyStatusDetails(){if(!this.lanyard)return{};switch(this.lanyard.listening_to_spotify){case!0:const s=this.lanyard.spotify.song.split("(")[0],n=this.lanyard.spotify.artist.split("(")[0];return this.lanyard.spotify.track_id,"Listening to "+s+" by "+n;case!1:return"Not listening Spotify";default:return"Loading"}},getDiscordStatus(){switch(this.lanyard.discord_status){case"online":return"bg-green-500";case"idle":return"bg-yellow-500";case"dnd":return"bg-red-500";default:return"bg-gray-500 dark:bg-gray-200"}}},beforeDestroy(){var t;(t=this.socket)==null||t.close()},mounted(){this.socket=new WebSocket("wss://api.lanyard.rest/socket"),this.socket.addEventListener("open",()=>{this.socket.send(JSON.stringify({op:2,d:{subscribe_to_id:"418941954252996609"}})),y(()=>{this.socket.send(JSON.stringify({op:3}))},3e4)}),this.socket.addEventListener("message",({data:t})=>{const{t:s,d:n}=JSON.parse(t);(s==="INIT_STATE"||s==="PRESENCE_UPDATE")&&(this.lanyard=n||{}),this.finished=!0})}},g={class:"status padding section"},m={id:"statusComps",class:"mt-4"},S={class:"normalText opacity-60"},D={id:"statusComps",class:"mt-4"},k={class:"normalText opacity-60"};function b(t,s,n,l,u,a){return o(),c("div",g,[s[0]||(s[0]=e("p",{class:"boldText"},[e("b",null,"Activities")],-1)),e("div",m,[e("span",{class:_(`w-3 h-3 rounded-full inline-block mr-1 ${a.getDiscordStatus}`)},null,2),e("span",S,i(a.getDiscordStatusDetails),1)]),e("div",D,[e("span",k,i(a.getSpotifyStatusDetails),1)])])}const d=r(h,[["render",b]]),v={components:{Status:d}};function w(t,s,n,l,u,a){const p=d;return o(),c("div",null,[f(p)])}const E=r(v,[["render",w]]);export{E as default};
